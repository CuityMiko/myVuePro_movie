webpackJsonp([3],{19:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(20),a=o(l),s=n(21),c=o(s),u=n(22),f=o(u),d=function(){function e(){i(this,e)}return r(e,null,[{key:"getMovilList",value:function(e){var t=e.count,n=(e.pageindex-1)*a.default.page.pagesize,o=e.type,i=e.q||"";return new Promise(function(e,r){c.default.getLocation().then(function(l){var s=""+a.default.apiurl.doubanurl.movie+o+"?start="+n+"&count="+t+"&city="+l.city+"&q="+i;f.default.fetch(s).then(function(t){e(t)}).catch(function(e){r(e)})}).catch(function(e){r(e)})})}},{key:"getMovieDetail",value:function(e){return new Promise(function(t,n){var o=a.default.apiurl.doubanurl.movie+"subject/"+e;f.default.fetch(o).then(function(e){t(e)}).catch(function(e){n(e)})})}}]),e}();t.default=d},21:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(20),a=o(l),s=n(22),c=o(s),u=function(){function e(){i(this,e)}return r(e,null,[{key:"getLocation",value:function(){return new Promise(function(e,t){c.default.fetch(a.default.apiurl.bmapurl.getLocationUrl).then(function(t){var n={province:t.content.address_detail.province,city:t.content.address_detail.city.substring(0,t.content.address_detail.city.length-1),city_code:t.content.address_detail.city_code,address:t.content.address,long:t.content.point.x,lat:t.content.point.y};e(n)}).catch(function(e){t(e)})})}}]),e}();t.default=u},22:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(23),a=o(l),s=function(){function e(){i(this,e)}return r(e,null,[{key:"fetch",value:function(e){return new Promise(function(t,n){(0,a.default)(e).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){n(e)})})}}]),e}();t.default=s},23:function(e,t,n){var o,i,r;!function(n,l){i=[t,e],o=l,r="function"==typeof o?o.apply(t,i):o,!(void 0!==r&&(e.exports=r))}(void 0,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function o(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=e,a=t.timeout||l.timeout,s=t.jsonpCallback||l.jsonpCallback,c=void 0;return new Promise(function(l,u){var f=t.jsonpCallbackFunction||n(),d=s+"_"+f;window[f]=function(e){l({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),i(d),o(f)},r+=r.indexOf("?")===-1?"?":"&";var v=document.createElement("script");v.setAttribute("src",""+r+s+"="+f),t.charset&&v.setAttribute("charset",t.charset),v.id=d,document.getElementsByTagName("head")[0].appendChild(v),c=setTimeout(function(){u(new Error("JSONP request to "+e+" timed out")),o(f),i(d)},a),v.onerror=function(){u(new Error("JSONP request to "+e+" failed")),o(f),i(d),c&&clearTimeout(c)}})}var l={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=r})},30:function(e,t,n){n(31);var o=n(17)(n(33),n(37),null,null);e.exports=o.exports},31:function(e,t,n){var o=n(32);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);n(15)("32a2f438",o,!0)},32:function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".go{float:right}#moviedetail .clearfix{display:flex;justify-content:center;align-items:Center;flex-direction:flex-end;font-size:24px;font-weight:700;color:red}#moviedetail .box-card{margin-top:9px;margin-bottom:9px}.moviedetail{display:flex;flex-direction:column}.detailimg{text-align:center}.detailinfo{margin:3px}",""])},33:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),r=o(i),l=n(19),a=o(l);t.default={data:function(){return{movie:null}},methods:{},mounted:function(){var e=this,t=r.default.service({text:"玩命加载中...",fullscreen:!1});a.default.getMovieDetail(this.$route.params.id).then(function(n){e.movie=n,t.close()}).catch(function(n){t.close(),e.$alert("电影内容获取失败！","温馨提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}})})}}},34:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}({0:function(e,t,n){e.exports=n(175)},3:function(e,t){e.exports=function(e,t,n,i,r){var l,a=e=e||{},s=o(e.default);"object"!==s&&"function"!==s||(l=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns),i&&(c._scopeId=i);var u;if(r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=u):n&&(u=n),u){var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{esModule:l,exports:a,options:c}}},55:function(e,t){e.exports=n(9)},122:function(e,t){e.exports=n(35)},169:function(e,t){e.exports=n(36)},175:function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(176),r=o(i),l=n(180),a=o(l);t.default={install:function(e){e.use(r.default),e.prototype.$loading=a.default},directive:r.default,service:a.default}},176:function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}var i=n(55),r=o(i),l=n(122),a=r.default.extend(n(177));t.install=function(e){if(!e.prototype.$isServer){var t=function(t,o){o.value?e.nextTick(function(){o.modifiers.fullscreen?(t.originalPosition=document.body.style.position,t.originalOverflow=document.body.style.overflow,(0,l.addClass)(t.mask,"is-fullscreen"),n(document.body,t,o)):((0,l.removeClass)(t.mask,"is-fullscreen"),o.modifiers.body?(t.originalPosition=document.body.style.position,["top","left"].forEach(function(e){var n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]+"px"}),["height","width"].forEach(function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"}),n(document.body,t,o)):(t.originalPosition=t.style.position,n(t,t,o)))}):t.domVisible&&(t.instance.$on("after-leave",function(e){t.domVisible=!1,o.modifiers.fullscreen&&"hidden"!==t.originalOverflow&&(document.body.style.overflow=t.originalOverflow),o.modifiers.fullscreen||o.modifiers.body?document.body.style.position=t.originalPosition:t.style.position=t.originalPosition}),t.instance.visible=!1)},n=function(t,n,o){n.domVisible||(Object.keys(n.maskStyle).forEach(function(e){n.mask.style[e]=n.maskStyle[e]}),"absolute"!==n.originalPosition&&(t.style.position="relative"),o.modifiers.fullscreen&&o.modifiers.lock&&(t.style.overflow="hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick(function(){n.instance.visible=!0}),n.domInserted=!0)};e.directive("loading",{bind:function(e,n){var o=new a({el:document.createElement("div"),data:{text:e.getAttribute("element-loading-text"),fullscreen:!!n.modifiers.fullscreen}});e.instance=o,e.mask=o.$el,e.maskStyle={},t(e,n)},update:function(e,n){e.instance.setText(e.getAttribute("element-loading-text")),n.oldValue!==n.value&&t(e,n)},unbind:function(e,t){e.domInserted&&(t.modifiers.fullscreen||t.modifiers.body?document.body.removeChild(e.mask):e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask))}})}}},177:function(e,t,n){var o=n(3)(n(178),n(179),null,null,null);e.exports=o.exports},178:function(e,t){t.__esModule=!0,t.default={data:function(){return{text:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}}},179:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}]},[n("div",{staticClass:"el-loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?n("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])},staticRenderFns:[]}},180:function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(55),r=o(i),l=n(177),a=o(l),s=n(169),c=o(s),u=r.default.extend(a.default),f={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},d=void 0;u.prototype.originalPosition="",u.prototype.originalOverflow="",u.prototype.close=function(){var e=this;this.fullscreen&&"hidden"!==this.originalOverflow&&(document.body.style.overflow=this.originalOverflow),this.fullscreen||this.body?document.body.style.position=this.originalPosition:this.target.style.position=this.originalPosition,this.fullscreen&&(d=void 0),this.$on("after-leave",function(t){e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()}),this.visible=!1};var v=function(e,t,n){var o={};e.fullscreen?(n.originalPosition=document.body.style.position,n.originalOverflow=document.body.style.overflow):e.body?(n.originalPosition=document.body.style.position,["top","left"].forEach(function(t){var n="top"===t?"scrollTop":"scrollLeft";o[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]+"px"}),["height","width"].forEach(function(t){o[t]=e.target.getBoundingClientRect()[t]+"px"})):n.originalPosition=t.style.position,Object.keys(o).forEach(function(e){n.$el.style[e]=o[e]})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.default.prototype.$isServer){if(e=(0,c.default)({},f,e),"string"==typeof e.target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&d)return d;var t=e.body?document.body:e.target,n=new u({el:document.createElement("div"),data:e});return v(e,t,n),"absolute"!==n.originalPosition&&(t.style.position="relative"),e.fullscreen&&e.lock&&(t.style.overflow="hidden"),t.appendChild(n.$el),r.default.nextTick(function(){n.visible=!0}),e.fullscreen&&(d=n),n}};t.default=m}})},35:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e||!t)return!1;if(t.indexOf(" ")!==-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function r(e,t){if(e){for(var n=e.className,o=(t||"").split(" "),r=0,l=o.length;r<l;r++){var a=o[r];a&&(e.classList?e.classList.add(a):i(e,a)||(n+=" "+a))}e.classList||(e.className=n)}}function l(e,t){if(e&&t){for(var n=t.split(" "),o=" "+e.className+" ",r=0,l=n.length;r<l;r++){var a=n[r];a&&(e.classList?e.classList.remove(a):i(e,a)&&(o=o.replace(" "+a+" "," ")))}e.classList||(e.className=y(o))}}function a(e,t,n){if(e&&t)if("object"===("undefined"==typeof t?"undefined":c(t)))for(var o in t)t.hasOwnProperty(o)&&a(e,o,t[o]);else t=h(t),"opacity"===t&&p<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0,t.getStyle=t.once=t.off=t.on=void 0;var c="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":s(e)};t.hasClass=i,t.addClass=r,t.removeClass=l,t.setStyle=a;var u=n(9),f=o(u),d=f.default.prototype.$isServer,v=/([\:\-\_]+(.))/g,m=/^moz([A-Z])/,p=d?0:Number(document.documentMode),y=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},h=function(e){return e.replace(v,function(e,t,n,o){return o?n.toUpperCase():n}).replace(m,"Moz$1")},g=t.on=function(){return!d&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),b=t.off=function(){return!d&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var o=function o(){n&&n.apply(this,arguments),b(e,t,o)};g(e,t,o)},t.getStyle=p<9?function(e,t){if(!d){if(!e||!t)return null;t=h(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!d){if(!e||!t)return null;t=h(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}}},36:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var o=arguments[t]||{};for(var i in o)if(o.hasOwnProperty(i)){var r=o[i];void 0!==r&&(e[i]=r)}}return e}},37:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"moviedetail"}},[null!=e.movie?n("el-row",[n("el-col",{attrs:{span:16,offset:4}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",slot:"header"},[n("div",{staticStyle:{flex:"1","text-align":"center"}},[n("span",[e._v(e._s(e.movie.title))])]),e._v(" "),n("div",{staticStyle:{width:"81px"}},[n("el-button",{attrs:{type:"default"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返 回")])],1)]),e._v(" "),n("div",{staticClass:"moviedetail"},[n("div",{staticClass:"detailimg"},[n("img",{attrs:{src:e.movie.images.large,alt:e.movie.title}})]),e._v(" "),n("div",{staticClass:"detailinfo"},[n("span",[e._v("上映年份："+e._s(e.movie.year))]),e._v(" \n                        "),n("span",[e._v("国家："+e._s(e.movie.countries.join("、")))]),e._v(" \n                        "),n("span",[e._v("类型："+e._s(e.movie.genres.join("、")))]),e._v(" \n                    ")]),e._v(" "),n("div",{staticClass:"detailinfo"},[n("el-row",[n("el-col",{attrs:{span:3}},[n("span",[e._v("综合评分：")])]),e._v(" "),n("el-col",{attrs:{span:21}},[e.movie.rating.average>0?n("el-rate",{attrs:{value:e.movie.rating.average/2,disabled:"","allow-half":"","show-text":"","text-color":"red","text-template":"{value}分"}}):e._e()],1)],1)],1),e._v(" "),n("div",{staticClass:"detailinfo"},[n("span",[e._v("导演：")]),e._v(" "),e._l(e.movie.directors,function(t,o){return n("span",{key:t.id},[e._v(e._s(t.name)+e._s(o==e.movie.directors.length-1?"":"、"))])})],2),e._v(" "),n("div",{staticClass:"detailinfo"},[n("span",[e._v("主演：")]),e._v(" "),e._l(e.movie.casts,function(t,o){return n("span",{key:t.id},[e._v(e._s(t.name)+e._s(o==e.movie.casts.length-1?"":"、"))])})],2),e._v(" "),n("div",{staticClass:"detailinfo"},[n("span",{staticStyle:{color:"#D3D3D3","font-size":"24rpx"}},[e._v("剧情简介")])]),e._v(" "),n("div",{staticClass:"detailinfo"},[e._v("\n                        "+e._s(e.movie.summary)+"\n                    ")])])])],1)],1):e._e()],1)},staticRenderFns:[]}}});